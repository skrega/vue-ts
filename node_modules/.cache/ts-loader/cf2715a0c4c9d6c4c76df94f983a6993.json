{"remainingRequest":"/Users/andrievichregina/Desktop/education/vue-vladlen-course/13-vue-ts/node_modules/babel-loader/lib/index.js!/Users/andrievichregina/Desktop/education/vue-vladlen-course/13-vue-ts/node_modules/ts-loader/index.js??ref--13-2!/Users/andrievichregina/Desktop/education/vue-vladlen-course/13-vue-ts/src/use/fetch.ts","dependencies":[{"path":"/Users/andrievichregina/Desktop/education/vue-vladlen-course/13-vue-ts/src/use/fetch.ts","mtime":1652233500564},{"path":"/Users/andrievichregina/Desktop/education/vue-vladlen-course/13-vue-ts/node_modules/cache-loader/dist/cjs.js","mtime":1652230171048},{"path":"/Users/andrievichregina/Desktop/education/vue-vladlen-course/13-vue-ts/node_modules/babel-loader/lib/index.js","mtime":1652230175395},{"path":"/Users/andrievichregina/Desktop/education/vue-vladlen-course/13-vue-ts/node_modules/ts-loader/index.js","mtime":1652230177934}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hbmRyaWV2aWNocmVnaW5hL0Rlc2t0b3AvZWR1Y2F0aW9uL3Z1ZS12bGFkbGVuLWNvdXJzZS8xMy12dWUtdHMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnOwpleHBvcnQgZnVuY3Rpb24gdXNlRmV0Y2godXJsLCBvcHRpb25zKSB7CiAgdmFyIHJlc3BvbnNlID0gcmVmKCk7CgogIHZhciByZXF1ZXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucyk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXNwb25zZS52YWx1ZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiByZXF1ZXN0KCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHJldHVybiB7CiAgICByZXNwb25zZTogcmVzcG9uc2UsCiAgICByZXF1ZXN0OiByZXF1ZXN0CiAgfTsKfQ=="},{"version":3,"sources":["/Users/andrievichregina/Desktop/education/vue-vladlen-course/13-vue-ts/src/use/fetch.ts"],"names":[],"mappings":";;;AAAA,SAAQ,GAAR,QAAkB,KAAlB;AAUA,OAAM,SAAU,QAAV,CAAsB,GAAtB,EAAwC,OAAxC,EAA6D;AAC/D,MAAM,QAAQ,GAAG,GAAG,EAApB;;AAEA,MAAM,OAAO;AAAA,uEAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACR,KAAK,CAAC,GAAD,EAAM,OAAN,CADG;;AAAA;AACpB,cAAA,GADoB;AAAA;AAAA,qBAEH,GAAG,CAAC,IAAJ,EAFG;;AAAA;AAE1B,cAAA,QAAQ,CAAC,KAFiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAjB;;AAAA,oBAAP,OAAO;AAAA;AAAA;AAAA,KAAb;;AAKA,SAAQ;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAY,IAAA,OAAO,EAAP;AAAZ,GAAR;AACH","sourcesContent":["import {ref} from 'vue'\n\ntype FetchRequest = () => Promise<void>\n\n// явно прописываем тип\ninterface UsableFetch {\n    request: FetchRequest\n    response: Ref<T | undefined>\n}\n\nexport function useFetch<T>(url: RequestInfo, options?: RequestInit) {\n    const response = ref<T>()\n\n    const request: FetchRequest = async () => {\n        const res = await fetch(url, options)\n        response.value = await res.json()\n    }\n\n    return  { response, request }\n}\n"],"sourceRoot":""}]}